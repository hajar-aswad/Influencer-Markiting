{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ASUS/Desktop/New folder/influincer_markiting/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/ASUS/Desktop/New folder/influincer_markiting/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nexport default {\n  name: 'ListsLists',\n  data: function data() {\n    return {\n      lists: [],\n      list_name: '',\n      filtering_criteria: ''\n    };\n  },\n  methods: {\n    fetchLists: function fetchLists() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var token, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              token = localStorage.getItem('access_token');\n              if (token) {\n                _context.next = 4;\n                break;\n              }\n              console.error('No access token found.');\n              return _context.abrupt(\"return\");\n            case 4:\n              _context.prev = 4;\n              _context.next = 7;\n              return axios.get('https://iinfluencer.net/api/list', {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 7:\n              response = _context.sent;\n              console.log('Response data:', response.data); // Debugging line to log the response data\n              _this.lists = response.data;\n              _context.next = 15;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](4);\n              if (_context.t0.response) {\n                // Server responded with a status other than 200 range\n                console.error('Error fetching lists:', _context.t0.response.status, _context.t0.response.data);\n              } else if (_context.t0.request) {\n                // Request was made but no response received\n                console.error('No response received:', _context.t0.request);\n              } else {\n                // Something else caused the error\n                console.error('Error setting up request:', _context.t0.message);\n              }\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[4, 12]]);\n      }))();\n    },\n    createList: function createList() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post('https://iinfluencer.net/api/list/store', {\n                list_name: _this2.list_name,\n                filtering_criteria: _this2.filtering_criteria\n              }, {\n                headers: {\n                  Authorization: \"Bearer \".concat(localStorage.getItem('access_token'))\n                }\n              });\n            case 3:\n              response = _context2.sent;\n              _this2.lists.push(response.data);\n              _this2.list_name = '';\n              _this2.filtering_criteria = '';\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('Error creating list:', _context2.t0);\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 9]]);\n      }))();\n    },\n    deleteList: function deleteList(id) {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var token;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              token = localStorage.getItem('access_token');\n              _context3.prev = 1;\n              _context3.next = 4;\n              return axios[\"delete\"](\"https://iinfluencer.net/api/list/delete/\".concat(id), {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 4:\n              _this3.lists = _this3.lists.filter(function (list) {\n                return list.id !== id;\n              });\n              _context3.next = 10;\n              break;\n            case 7:\n              _context3.prev = 7;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error('Error deleting list:', _context3.t0);\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 7]]);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    this.fetchLists();\n  }\n};","map":{"version":3,"names":["axios","name","data","lists","list_name","filtering_criteria","methods","fetchLists","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","console","error","abrupt","get","headers","Authorization","concat","sent","log","t0","status","request","message","stop","createList","_this2","_callee2","_callee2$","_context2","post","push","deleteList","id","_this3","_callee3","_callee3$","_context3","filter","list","mounted"],"sources":["C:\\Users\\ASUS\\Desktop\\New folder\\influincer_markiting\\src\\components\\ListsLists.vue"],"sourcesContent":["\r\n   <template>\r\n    <div class=\"content-container\">\r\n      <!-- Table Section -->\r\n      <div class=\"table-section\">\r\n        <div class=\"table-container\">\r\n          <div class=\"product-table\">\r\n            <table>\r\n    <thead>\r\n      <tr>\r\n        <th>LIST NAME</th>\r\n                  <th>FILTERING CRITERIA</th>\r\n                  <th>Actions</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr v-for=\"(list, index) in lists\" :key=\"index\">\r\n            <td class=\"product-info\">\r\n                <td>{{ list.listName }}</td> <!-- List name -->\r\n            </td>\r\n\r\n        <td>{{ list.filteringCriteria || 'N/A' }}</td> <!-- Show description or fallback text -->\r\n        <td>\r\n          <button class=\"delete-button\" @click=\"deleteList(list.id)\">\r\n            üóëÔ∏è\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  \r\n          </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Add Product Section -->\r\n      <div class=\"form-section\">\r\n        <div class=\"add-product-form\">\r\n          <h3>Add New list</h3>\r\n          <form @submit.prevent=\"addlist\">\r\n            <div class=\"input-group\">\r\n              <label for=\"listName\">\r\n                <input type=\"text\" v-model=\"newlistName\" placeholder=\"Product Name\" />\r\n              </label>\r\n            </div>\r\n            <div class=\"input-group\">\r\n              <label for=\"filteringCriteria\">\r\n                <input type=\"text\" v-model=\"newFilteringCriteria\" placeholder=\"Filtering Criteria\" />\r\n              </label>\r\n            </div>\r\n  \r\n  \r\n            <button type=\"submit\" class=\"add-product-button\">Add  new list</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  \r\n\r\n\r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    name: 'ListsLists',\r\n\r\n    data() {\r\n      return {\r\n        lists: [],\r\n          list_name: '',\r\n          filtering_criteria: '',\r\n      };\r\n    },\r\n    methods: {\r\n  async fetchLists() {\r\n    const token = localStorage.getItem('access_token');\r\n    if (!token) {\r\n      console.error('No access token found.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.get('https://iinfluencer.net/api/list', {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      console.log('Response data:', response.data); // Debugging line to log the response data\r\n      this.lists = response.data;\r\n    } catch (error) {\r\n      if (error.response) {\r\n        // Server responded with a status other than 200 range\r\n        console.error('Error fetching lists:', error.response.status, error.response.data);\r\n      } else if (error.request) {\r\n        // Request was made but no response received\r\n        console.error('No response received:', error.request);\r\n      } else {\r\n        // Something else caused the error\r\n        console.error('Error setting up request:', error.message);\r\n      }\r\n    }\r\n  },\r\n  \r\n    async createList() {\r\n      try {\r\n        const response = await axios.post('https://iinfluencer.net/api/list/store', {\r\n          list_name: this.list_name,\r\n          filtering_criteria: this.filtering_criteria\r\n        }, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem('access_token')}` }\r\n        });\r\n        this.lists.push(response.data);\r\n        this.list_name = '';\r\n        this.filtering_criteria = '';\r\n      } catch (error) {\r\n        console.error('Error creating list:', error);\r\n      }\r\n    }, \r\n    async deleteList(id) {\r\n      const token = localStorage.getItem('access_token');\r\n      try {\r\n        await axios.delete(`https://iinfluencer.net/api/list/delete/${id}`, {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        });\r\n        this.lists = this.lists.filter(list => list.id !== id);\r\n      } catch (error) {\r\n        console.error('Error deleting list:', error);\r\n      }\r\n    }\r\n\r\n} ,\r\n\r\n    mounted() {\r\n      this.fetchLists();\r\n    },\r\n  };\r\n  </script>\r\n \r\n  \r\n <style scoped>\r\n @import \"@/assets/css/tablesandframe.css\";\r\n\r\n </style>\r\n "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}