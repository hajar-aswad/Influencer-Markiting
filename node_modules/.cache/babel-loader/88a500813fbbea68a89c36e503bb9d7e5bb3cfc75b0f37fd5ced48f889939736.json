{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ASUS/Desktop/New folder/influincer_markiting/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/ASUS/Desktop/New folder/influincer_markiting/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"C:/Users/ASUS/Desktop/New folder/influincer_markiting/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { mapState } from 'vuex';\nimport axios from 'axios';\nimport { useRouter } from 'vue-router';\nexport default {\n  name: 'SidebarMenu',\n  computed: _objectSpread(_objectSpread({}, mapState(['user'])), {}, {\n    boxes: function boxes() {\n      return this.$store.state.boxes;\n    }\n  }),\n  methods: {\n    selectBox: function selectBox(index) {\n      this.$store.commit('selectBox', index);\n    },\n    logout: function logout() {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var token, router;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              token = localStorage.getItem('access_token');\n              router = useRouter();\n              _context.prev = 2;\n              _context.next = 5;\n              return axios.get('https://iinfluencer.net/api/logout', {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 5:\n              // Clear the token and navigate to the login screen\n              localStorage.removeItem('access_token');\n              router.push({\n                name: 'LoginScreen'\n              });\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              console.error('Logout failed', _context.t0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 9]]);\n      }))();\n    }\n  },\n  created: function created() {\n    // Select the \"Account\" box by default when the component is created\n    this.$store.commit('selectBox', 0); // Replace 0 with the index of the box you want to select by default\n  }\n};","map":{"version":3,"names":["mapState","axios","useRouter","name","computed","_objectSpread","boxes","$store","state","methods","selectBox","index","commit","logout","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","router","wrap","_callee$","_context","prev","next","localStorage","getItem","get","headers","Authorization","concat","removeItem","push","t0","console","error","stop","created"],"sources":["C:\\Users\\ASUS\\Desktop\\New folder\\influincer_markiting\\src\\components\\SidebarMenu.vue"],"sourcesContent":["<template> \r\n    <div class=\"sidebar\">\r\n        <div class=\"logo\">\r\n          <img src=\"@/assets/images/logo.png\" alt=\"Iinfluencer Logo\">\r\n        </div>\r\n        \r\n        <div class=\"boxes\">\r\n            <div class=\"box\" v-for=\"(box, index) in boxes\" :key=\"index\" @click=\"selectBox(index)\">\r\n                {{ box }}\r\n            </div>\r\n        </div> \r\n        \r\n        <div class=\"user-info\">\r\n            <img src=\"../assets/images/user-avatar.png\" alt=\"User Avatar\">\r\n            <div class=\"user-details\">\r\n              <p>{{ user.full_name }}</p>\r\n              <p>Role: {{ user.role }}</p>\r\n            </div>\r\n    \r\n            <!-- Logout icon, replaces the old options-icon div -->\r\n            <div class=\"logout-icon\" @click=\"logout\">\r\n              ðŸ”’ Logout\r\n            </div>\r\n        </div>\r\n    </div>\r\n    </template>\r\n    \r\n    <script>\r\n    import { mapState } from 'vuex';\r\n    import axios from 'axios';\r\n    import { useRouter } from 'vue-router';\r\n    \r\n    export default {\r\n      name: 'SidebarMenu',\r\n      \r\n      computed: {\r\n        ...mapState(['user']),\r\n        boxes() {\r\n          return this.$store.state.boxes;\r\n        }\r\n      },\r\n    \r\n      methods: {\r\n        selectBox(index) {\r\n          this.$store.commit('selectBox', index);\r\n        },\r\n        \r\n        async logout() {\r\n          const token = localStorage.getItem('access_token');\r\n          const router = useRouter();\r\n          \r\n          try {\r\n            await axios.get('https://iinfluencer.net/api/logout', {\r\n              headers: {\r\n                Authorization: `Bearer ${token}`\r\n              }\r\n            });\r\n    \r\n            // Clear the token and navigate to the login screen\r\n            localStorage.removeItem('access_token');\r\n            router.push({ name: 'LoginScreen' });\r\n          } catch (error) {\r\n            console.error('Logout failed', error);\r\n          }\r\n        }\r\n      },\r\n    \r\n      created() {\r\n        // Select the \"Account\" box by default when the component is created\r\n        this.$store.commit('selectBox', 0); // Replace 0 with the index of the box you want to select by default\r\n      }\r\n    };\r\n    </script>\r\n    \r\n    <style scoped>\r\n    /* Add necessary styles */\r\n    @import \"@/assets/css/homestyle.css\";\r\n    \r\n    .sidebar {\r\n      /* Add styling for sidebar */\r\n    }\r\n    \r\n    .logout-icon {\r\n      cursor: pointer;\r\n      margin-top: 10px;\r\n      color: white; /* Adjust color as needed */\r\n      font-weight: bold;\r\n    }\r\n    \r\n    .logout-icon:hover {\r\n      color: #555; /* Change color on hover */\r\n    }\r\n    </style>\r\n    "],"mappings":";;;;AA4BI,SAASA,QAAO,QAAS,MAAM;AAC/B,OAAOC,KAAI,MAAO,OAAO;AACzB,SAASC,SAAQ,QAAS,YAAY;AAEtC,eAAe;EACbC,IAAI,EAAE,aAAa;EAEnBC,QAAQ,EAAAC,aAAA,CAAAA,aAAA,KACHL,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC;IACrBM,KAAK,WAALA,KAAKA,CAAA,EAAG;MACN,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,KAAK;IAChC;EAAA,EACD;EAEDG,OAAO,EAAE;IACPC,SAAS,WAATA,SAASA,CAACC,KAAK,EAAE;MACf,IAAI,CAACJ,MAAM,CAACK,MAAM,CAAC,WAAW,EAAED,KAAK,CAAC;IACxC,CAAC;IAEKE,MAAM,WAANA,MAAMA,CAAA,EAAG;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,KAAA,EAAAC,MAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACPN,KAAI,GAAIO,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;cAC5CP,MAAK,GAAIjB,SAAS,CAAC,CAAC;cAAAoB,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAGlBvB,KAAK,CAAC0B,GAAG,CAAC,oCAAoC,EAAE;gBACpDC,OAAO,EAAE;kBACPC,aAAa,YAAAC,MAAA,CAAYZ,KAAK;gBAChC;cACF,CAAC,CAAC;YAAA;cAEF;cACAO,YAAY,CAACM,UAAU,CAAC,cAAc,CAAC;cACvCZ,MAAM,CAACa,IAAI,CAAC;gBAAE7B,IAAI,EAAE;cAAc,CAAC,CAAC;cAAAmB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAW,EAAA,GAAAX,QAAA;cAEpCY,OAAO,CAACC,KAAK,CAAC,eAAe,EAAAb,QAAA,CAAAW,EAAO,CAAC;YAAA;YAAA;cAAA,OAAAX,QAAA,CAAAc,IAAA;UAAA;QAAA,GAAAnB,OAAA;MAAA;IAEzC;EACF,CAAC;EAEDoB,OAAO,WAAPA,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAAC9B,MAAM,CAACK,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,EAAE;EACtC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}