{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/ASUS/Desktop/New folder/influincer_markiting/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/ASUS/Desktop/New folder/influincer_markiting/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport axios from 'axios';\nexport default {\n  name: 'CampaignList',\n  data: function data() {\n    return {\n      campaigns: [],\n      campaign: {\n        campaign_name: '',\n        campaign_description: '',\n        campaign_objective: '',\n        campaign_budget: ''\n      },\n      editMode: false,\n      campaignId: null\n    };\n  },\n  methods: {\n    fetchCampaigns: function fetchCampaigns() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var token, response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              token = localStorage.getItem('access_token');\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get('https://iinfluencer.net/api/campaign', {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 4:\n              response = _context.sent;\n              _this.campaigns = response.data;\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.error('Error fetching campaigns:', _context.t0);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[1, 8]]);\n      }))();\n    },\n    saveCampaign: function saveCampaign() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var token, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              token = localStorage.getItem('access_token');\n              _context2.prev = 1;\n              if (!_this2.editMode) {\n                _context2.next = 7;\n                break;\n              }\n              _context2.next = 5;\n              return axios.put(\"https://iinfluencer.net/api/campaign/update/\".concat(_this2.campaignId), _this2.campaign, {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 5:\n              _context2.next = 11;\n              break;\n            case 7:\n              _context2.next = 9;\n              return axios.post('https://iinfluencer.net/api/campaign/store', _this2.campaign, {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 9:\n              response = _context2.sent;\n              _this2.campaigns.push(response.data);\n            case 11:\n              _this2.resetForm();\n              _this2.fetchCampaigns();\n              _context2.next = 18;\n              break;\n            case 15:\n              _context2.prev = 15;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error('Error saving campaign:', _context2.t0);\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[1, 15]]);\n      }))();\n    },\n    editCampaign: function editCampaign(id) {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var token, response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              token = localStorage.getItem('access_token');\n              _context3.prev = 1;\n              _context3.next = 4;\n              return axios.get(\"https://iinfluencer.net/api/campaign/show/\".concat(id), {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 4:\n              response = _context3.sent;\n              _this3.campaign = response.data;\n              _this3.campaignId = id;\n              _this3.editMode = true;\n              _context3.next = 13;\n              break;\n            case 10:\n              _context3.prev = 10;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error('Error fetching campaign:', _context3.t0);\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 10]]);\n      }))();\n    },\n    deleteCampaign: function deleteCampaign(id) {\n      var _this4 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var token;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              token = localStorage.getItem('access_token');\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios[\"delete\"](\"https://iinfluencer.net/api/list/campaign/\".concat(id), {\n                headers: {\n                  Authorization: \"Bearer \".concat(token)\n                }\n              });\n            case 4:\n              _this4.campaigns = _this4.campaigns.filter(function (campaign) {\n                return campaign.id !== id;\n              });\n              _context4.next = 10;\n              break;\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.error('Error deleting campaign:', _context4.t0);\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[1, 7]]);\n      }))();\n    },\n    resetForm: function resetForm() {\n      this.campaign = {\n        campaign_name: '',\n        campaign_description: '',\n        campaign_objective: '',\n        campaign_budget: ''\n      };\n      this.editMode = false;\n      this.campaignId = null;\n    }\n  },\n  mounted: function mounted() {\n    this.fetchCampaigns();\n  }\n};","map":{"version":3,"names":["axios","name","data","campaigns","campaign","campaign_name","campaign_description","campaign_objective","campaign_budget","editMode","campaignId","methods","fetchCampaigns","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","token","response","wrap","_callee$","_context","prev","next","localStorage","getItem","get","headers","Authorization","concat","sent","t0","console","error","stop","saveCampaign","_this2","_callee2","_callee2$","_context2","put","post","push","resetForm","editCampaign","id","_this3","_callee3","_callee3$","_context3","deleteCampaign","_this4","_callee4","_callee4$","_context4","filter","mounted"],"sources":["C:\\Users\\ASUS\\Desktop\\New folder\\influincer_markiting\\src\\components\\CampaignList.vue"],"sourcesContent":["<template>\r\n    <div class=\"content-container\">\r\n      <!-- Campaigns Table Section -->\r\n      <div class=\"table-section\">\r\n        <div class=\"table-container\">\r\n          <div class=\"product-table\">\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Campaign Name</th>\r\n                  <th>Description</th>\r\n                  <th>Objective</th>\r\n                  <th>Budget</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(campaign, index) in campaigns\" :key=\"index\">\r\n                  <td>{{ campaign.campaign_name }}</td>\r\n                  <td>{{ campaign.campaign_description }}</td>\r\n                  <td>{{ campaign.campaign_objective }}</td>\r\n                  <td>{{ campaign.campaign_budget }}</td>\r\n                  <td>\r\n                    <button class=\"delete-button\" @click=\"deleteCampaign(campaign.id)\">üóëÔ∏è</button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  \r\n      <!-- Add/Update Campaign Section -->\r\n      <div class=\"form-section\">\r\n        <div class=\"add-product-form\"> \r\n            <h3>Start New campaing</h3>\r\n\r\n            <form @submit.prevent=\"saveCampaign\">\r\n                <div class=\"input-group\">\r\n              <input type=\"text\" v-model=\"campaign.campaign_name\" placeholder=\"Campaign Name\" required />\r\n            </div>\r\n            <div class=\"input-group\">\r\n              <input type=\"text\" v-model=\"campaign.campaign_description\" placeholder=\"Campaign Description\" required />\r\n            </div>\r\n            <div class=\"input-group\">\r\n              <input type=\"text\" v-model=\"campaign.campaign_objective\" placeholder=\"Campaign Objective\" required />\r\n            </div>\r\n            <div class=\"input-group\">\r\n              <input type=\"number\" v-model=\"campaign.campaign_budget\" placeholder=\"Campaign Budget\" required />\r\n            </div> \r\n            <button type=\"submit\" class=\"add-product-button\"> Start </button>\r\n\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    name: 'CampaignList',\r\n    data() {\r\n      return {\r\n        campaigns: [],\r\n        campaign: {\r\n          campaign_name: '',\r\n          campaign_description: '',\r\n          campaign_objective: '',\r\n          campaign_budget: ''\r\n        },\r\n        editMode: false,\r\n        campaignId: null\r\n      };\r\n    },\r\n    methods: {\r\n      async fetchCampaigns() {\r\n        const token = localStorage.getItem('access_token');\r\n        try {\r\n          const response = await axios.get('https://iinfluencer.net/api/campaign', {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          });\r\n          this.campaigns = response.data;\r\n        } catch (error) {\r\n          console.error('Error fetching campaigns:', error);\r\n        }\r\n      },\r\n      async saveCampaign() {\r\n        const token = localStorage.getItem('access_token');\r\n        try {\r\n          if (this.editMode) {\r\n            await axios.put(`https://iinfluencer.net/api/campaign/update/${this.campaignId}`, this.campaign, {\r\n              headers: {\r\n                Authorization: `Bearer ${token}`\r\n              }\r\n            });\r\n          } else {\r\n            const response = await axios.post('https://iinfluencer.net/api/campaign/store', this.campaign, {\r\n              headers: {\r\n                Authorization: `Bearer ${token}`\r\n              }\r\n            });\r\n            this.campaigns.push(response.data);\r\n          }\r\n          this.resetForm();\r\n          this.fetchCampaigns();\r\n        } catch (error) {\r\n          console.error('Error saving campaign:', error);\r\n        }\r\n      },\r\n      async editCampaign(id) {\r\n        const token = localStorage.getItem('access_token');\r\n        try {\r\n          const response = await axios.get(`https://iinfluencer.net/api/campaign/show/${id}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          });\r\n          this.campaign = response.data;\r\n          this.campaignId = id;\r\n          this.editMode = true;\r\n        } catch (error) {\r\n          console.error('Error fetching campaign:', error);\r\n        }\r\n      },\r\n      async deleteCampaign(id) {\r\n        const token = localStorage.getItem('access_token');\r\n        try {\r\n          await axios.delete(`https://iinfluencer.net/api/list/campaign/${id}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`\r\n            }\r\n          });\r\n          this.campaigns = this.campaigns.filter(campaign => campaign.id !== id);\r\n        } catch (error) {\r\n          console.error('Error deleting campaign:', error);\r\n        }\r\n      },\r\n      resetForm() {\r\n        this.campaign = {\r\n          campaign_name: '',\r\n          campaign_description: '',\r\n          campaign_objective: '',\r\n          campaign_budget: ''\r\n        };\r\n        this.editMode = false;\r\n        this.campaignId = null;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fetchCampaigns();\r\n    }\r\n  };\r\n  </script>\r\n  \r\n\r\n  <style scoped>\r\n  @import \"@/assets/css/tablesandframe.css\";\r\n\r\n  </style>\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}